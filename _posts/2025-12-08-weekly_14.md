---
layout: post
title: Docker의 개념과 활용
date: 2025-12-07
categories:
  - 배포
tags:
  - docker
  - 도커
---

# Docker의 개념과 활용

## 목차
1. [Docker 이미지와 Docker 컨테이너의 차이](#section1)
2. [Docker Compose는 어떤 상황에서 유용하며, 일반 Dockerfile과는 어떤 차이가 있나요](#section2)
3. [Kubernetes의 기본 개념은 무엇이며, Docker와는 어떤 관계가 있나요?](#section3)

---
 
## 1. Docker 이미지와 Docker 컨테이너의 차이 {#section1} 
### Docker 이미지 (Image) 
**실행 파일의 템플릿**으로, 애플리케이션 실행에 필요한 모든 것이 포함된 읽기 전용 패키지입니다. 
- 운영체제, 라이브러리, 애플리케이션 코드가 레이어 구조로 저장 
- Dockerfile로 정의하고 빌드하여 생성 
- Docker Hub 등을 통해 공유 가능 
### Docker 컨테이너 (Container) 
**이미지를 실행한 인스턴스**로, 격리된 환경에서 애플리케이션이 실제로 동작하는 공간입니다. 
- 이미지로부터 생성되며, 하나의 이미지에서 여러 컨테이너 생성 가능 
- 실행 중 생성된 데이터는 컨테이너 삭제 시 사라짐 (휘발성) 
- Volume을 통해 데이터를 영구 저장 가능 
- ### 비유 
- **이미지** = 프로그램 설치 파일 (.exe) 
- **컨테이너** = 실행 중인 프로그램 (프로세스) 

--- 

## 2. Docker Compose는 어떤 상황에서 유용하며, 일반 Dockerfile과는 어떤 차이가 있나요 {#section2} 
### Dockerfile 
**단일 이미지를 정의**하는 파일로, 이미지 빌드 방법을 명시합니다. 
- 베이스 이미지, 패키지 설치, 파일 복사 등의 명령어 포함 
- 하나의 서비스(애플리케이션)만 다룸 
- 예: `FROM python:3.11-slim` 
### Docker Compose 
**여러 컨테이너를 orchestration**하는 도구로, `docker-compose.yml` 파일에 정의합니다. 
- 다중 서비스 구성: 웹 서버 + 데이터베이스 + 캐시 등 
- 네트워크, 볼륨, 환경 변수를 한 곳에서 관리 
- `docker-compose up` 한 번으로 전체 시스템 실행 
- 서비스 간 의존성 관리 (depends_on) 
### 언제 유용한가? 
- **마이크로서비스 아키텍처**: 여러 서비스가 협력하는 시스템 
- **개발 환경 구축**: 복잡한 인프라를 코드로 재현 
- **협업**: 팀원 모두가 동일한 환경에서 작업 
### 비교 예시 

```dockerfile 
# Dockerfile (단일 서비스) 
FROM python:3.11-slim 
COPY . /app 
RUN pip install -r requirements.txt 
CMD ["python", "app.py"]```
<br>

```yaml 
# docker-compose.yml (다중 서비스) 
services: 
	web: 
		build: ./web 
		ports: 
			- "8000:8000" 
	
	database: 
		image: postgres:15 
		volumes: - db-data:/var/lib/postgresql/data 
	
	cache: image: redis:7 
``` 

---

## 3. Kubernetes의 기본 개념은 무엇이며, Docker와는 어떤 관계가 있나요? {#section3} 
### Kubernetes란? 
**컨테이너 오케스트레이션 플랫폼**으로, 대규모 컨테이너 환경을 자동으로 관리합니다. 
주요 기능: 
- **자동 배포, 스케일링, 로드 밸런싱** 
- **자가 치유**: 장애 발생 시 컨테이너 자동 재시작 
- **서비스 디스커버리**: 컨테이너 간 자동 통신 설정 
- **롤링 업데이트**: 무중단 배포 
### Docker vs Kubernetes 
#### Docker **컨테이너 실행 엔진 (단일 호스트)** 
- 로컬 개발 환경, 소규모 배포에 적합 
- Docker Compose로 다중 컨테이너 관리 (제한적) 
#### Kubernetes **컨테이너 오케스트레이션 (다중 호스트 클러스터)** 
- 수백~수천 개의 컨테이너를 여러 서버에서 관리 
- 프로덕션 환경의 대규모 서비스에 필수 
### 관계 
Kubernetes는 Docker(또는 containerd, CRI-O 등)를 **컨테이너 런타임으로 사용**합니다. Docker로 만든 이미지를 Kubernetes가 관리하는 구조입니다. 

```
Dockerfile → Docker Image → Kubernetes Pod → 대규모 서비스 
```
### 비유
- **Docker** = 자동차 (단일 차량 운전) 
- **Docker Compose** = 주차장 (여러 대 관리) 
- **Kubernetes** = 교통 관제 시스템 (도시 전체 차량 관리) 
--- 

## 정리 

| 구분                 | 용도           | 규모       |
| ------------------ | ------------ | -------- |
| **Dockerfile**     | 이미지 빌드       | 단일 서비스   |
| **Docker Compose** | 로컬 다중 서비스    | 개발 환경    |
| **Kubernetes**     | 프로덕션 오케스트레이션 | 대규모 클러스터 |
